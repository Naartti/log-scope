!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("log-scope",[],e):"object"==typeof exports?exports["log-scope"]=e():o["log-scope"]=e()}(window,function(){return function(r){var n={};function t(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return r[o].call(e.exports,e,e.exports,t),e.l=!0,e.exports}return t.m=r,t.c=n,t.d=function(o,e,r){t.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:r})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)t.d(r,n,function(o){return e[o]}.bind(null,n));return r},t.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(e,"a",e),e},t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},t.p="",t(t.s=1)}([function(o,e){Object.entries||(Object.entries=function(o){for(var e=Object.keys(o),r=e.length,n=new Array(r);r--;)n[r]=[e[r],o[e[r]]];return n})},function(o,e,r){"use strict";r.r(e);r(0);function n(o,e){return function(o){if(Array.isArray(o))return o}(o)||function(o,e){var r=[],n=!0,t=!1,c=void 0;try{for(var i,l=o[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(o){t=!0,c=o}finally{try{n||null==l.return||l.return()}finally{if(t)throw c}}return r}(o,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(o){return function(o){if(Array.isArray(o)){for(var e=0,r=new Array(o.length);e<o.length;e++)r[e]=o[e];return r}}(o)||function(o){if(Symbol.iterator in Object(o)||"[object Arguments]"===Object.prototype.toString.call(o))return Array.from(o)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={print:!0,store:!0,counter:!0,onError:null},t=+new Date,s=null,c=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object.entries(u).forEach(function(o){var e=n(o,1)[0];void 0!==r[e]&&(u[e]=r[e])})},i=function(o){var a={serviceName:o,setup:{debug:{color:"blue",logToConsole:!0},warning:{color:"orange",logToConsole:!0},info:{color:"blue",logToConsole:!0},todo:{color:"purple",logToConsole:!0},fixme:{color:"red",logToConsole:!0},success:{color:"green",logToConsole:!0},error:{color:"red",logToConsole:!0},danger:{color:"red",logToConsole:!0},sequence:{color:"black",logToConsole:!1}},active:{},history:{},count:{},logToConsole:function(o,e){if(a.active[o]&&u.print&&(!s||a.serviceName===s)){var r,n=a.setup[o].color,t=u.counter?" (".concat(a.count[o],")"):"";console.log("%c ".concat(a.serviceName," [").concat(o.toUpperCase(),"]").concat(t,": ").concat(e),"color: ".concat(n));for(var c=arguments.length,i=new Array(2<c?c-2:0),l=2;l<c;l++)i[l-2]=arguments[l];i&&(r=console).log.apply(r,i)}},pause:function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==o?a.active[o]=!1:Object.keys(a.active).forEach(function(o){a.active[o]=!1})},resume:function(o){a.active[o]=!0},only:function(o){o||(o=a.serviceName),console.log("%c Only printing scope: ".concat(o),"color: red"),s=o},getTime:function(){return(+new Date-t)/1e3},storeToHistory:function(o,e){if(u.store){var r=a.history[o].length-1;if(0<=r){var n=a.history[o][r],t=n.indexOf(":")+2;if(n.substring(t,n.length)===e){var c=n.indexOf(")"),i=-1===c?2:Number(n.substring(2,c))+1;return a.history[o][r]="(x".concat(i,") ").concat(a.getTime(),": ").concat(e),void(a.count[o]+=1)}}a.history[o].push("".concat(a.getTime(),": ").concat(e)),a.count[o]+=1}},latest:function(){var o=a.read("sequence",10);""!==o&&console.log(o)},error:function(o,e){for(var r=arguments.length,n=new Array(2<r?r-2:0),t=2;t<r;t++)n[t-2]=arguments[t];if(console.trace("%c ".concat(a.serviceName," [ERROR]: (").concat(a.count.error,")"),"color: red",o),!e||e instanceof Error||(n=[].concat(l(n),[e])),e&&e instanceof Error||(e=new Error(o)),u.onError){var c=n?{message:o,data:n}:{message:o};u.onError(e,c)}var i;n?(i=console).log.apply(i,[e].concat(l(n))):console.log(e),a.latest(),a.storeToHistory("error",o)},read:function(o,e){var r=a.history[o],n="",t=e;(!t||t>r.length)&&(t=r.length);for(var c=r.length-1;c>=r.length-t;c-=1)n+="".concat(r[c],"\n");return n}};return(a.initialize=function(){Object.entries(a.setup).forEach(function(o){var e=n(o,2),t=e[0],r=e[1];a.active[t]=!0===r.logToConsole,a.history[t]=[],a.count[t]=0,"error"!==t&&(a[t]=function(o){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];a.logToConsole.apply(a,[t,o].concat(r)),a.storeToHistory(t,o)})})})(),a};r.d(e,"logScope",function(){return i}),r.d(e,"init",function(){return c});e.default=i}])});
//# sourceMappingURL=log-scope.js.map